// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-scalar-mostly-safe-compatible@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-mostly-safe-data-type-cast@v0.2.2-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-ndarray-like@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-unary-reduce-subarray@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-includes@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-spread-dimensions@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-indices-complement@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-shape@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-order@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-data-buffer@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-strides@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-offset@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-dtype@v0.2.2-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-empty@v0.3.0-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-ctor@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-maybe-broadcast-array@v0.2.3-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-broadcast-scalar@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/strided-base-reinterpret-boolean@v0.0.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-take-indexed@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zero-to@v0.2.1-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/object-assign@v0.2.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import{isPrimitive as T}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import{primitives as S}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer-array@esm/index.mjs";import V from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-empty-collection@esm/index.mjs";import O from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-to-unique-normalized-indices@esm/index.mjs";import z from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-join@esm/index.mjs";import R from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";import q from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-ndims@v0.2.2-esm/index.mjs";import N from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zero-to@esm/index.mjs";var A={dims:null,keepdims:!1};function B(s,e,t){var r;if(!E(t))return new TypeError(R("null2V",t));if(k(t,"keepdims")&&(s.keepdims=t.keepdims,!T(s.keepdims)))return new TypeError(R("null2o","keepdims",s.keepdims));if(k(t,"dims")){if(s.dims=t.dims,!S(s.dims)&&!V(s.dims))return new TypeError(R("invalid option. `%s` option must be an array of integers. Option: `%s`.","dims",s.dims));if(null===(r=O(s.dims,e-1)))return new RangeError(R("invalid option. `%s` option contains an out-of-bounds dimension index. Option: [%s].","dims",z(s.dims,",")));if(r.length!==s.dims.length)return new Error(R("invalid option. `%s` option contains duplicate indices. Option: [%s].","dims",z(s.dims,",")));if(r.length>e)return new RangeError(R("invalid option. `%s` option specifies more dimensions than exists in the input array. Number of dimensions: %d. Option: [%s].","dims",e,z(s.dims,",")));s.dims=r}return null}function C(s,E,k){var T,S,V,O,z,R,q,N,C,D,F;if(!r(s))throw new TypeError(w("null5t",s));if(C=(z=a(s)).length,T=x({},A),arguments.length>2&&(V=B(T,C,k)))throw V;if(null===T.dims&&(T.dims=g(C)),O=m(C,T.dims),R=y(z,O),N=h(s),q=o(s),r(E)){if(!t(h(E),N))throw new TypeError(w("invalid argument. Second argument cannot be safely cast to the input array data type. Value: `%s`.",E));try{D=f(E,R)}catch(V){throw new Error("invalid argument. Second argument must be broadcast-compatible with the non-reduced dimensions of the input array.")}}else{if(!e(E,N))throw new TypeError(w("invalid argument. Second argument cannot be safely cast to the input array data type. Value: `%s`.",E));D=u(E,N,R,q)}return F=c(R,{dtype:"bool",order:q}),S=new b("uint8",v(l(F),0),R,p(F,!1),j(F),o(F)),i(n,[s,S,D],T.dims),T.keepdims&&(F=d(C,F,O)),F}function D(s,d,m,l){var p,j,c,b,v,y;if(!r(s))throw new TypeError(w("null5t",s));if(!r(m))throw new TypeError(w("invalid argument. Third argument must be an ndarray-like object. Value: `%s`.",m));if(v=q(s),p=x({},A),arguments.length>3&&(j=B(p,v,l)))throw j;if(null===p.dims&&(p.dims=N(v)),b=h(s),c=o(s),r(d)){if(!t(h(d),b))throw new TypeError(w("invalid argument. Second argument cannot be safely cast to the input array data type. Value: `%s`.",d));try{y=f(d,a(m))}catch(j){throw new Error("invalid argument. Second argument must be broadcast-compatible with the non-reduced dimensions of the input array.")}}else{if(!e(d,b))throw new TypeError(w("invalid argument. Second argument cannot be safely cast to the input array data type. Value: `%s`.",d));y=u(d,b,a(m),c)}return i(n,[s,m,y],p.dims),m}s(C,"assign",D);export{D as assign,C as default};
//# sourceMappingURL=index.mjs.map
